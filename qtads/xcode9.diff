diff --git a/tads3/vmtz.cpp b/tads3/vmtz.cpp
index 525c781..6d3acf0 100644
--- a/tads3/vmtz.cpp
+++ b/tads3/vmtz.cpp
@@ -1984,7 +1984,7 @@ void CVmTimeZone::query(vmtzquery *result, int32_t dayno, int32_t daytime,
              *   the transition in terms of the local time that was in effect
              *   up until that moment
              */
-            result->set(tcur > 0 ? tcur - 1 : tcur);
+            result->set(tcur != NULL ? tcur - 1 : tcur);
             return;
         }
     }
